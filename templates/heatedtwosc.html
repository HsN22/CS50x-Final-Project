{% extends "layout.html" %}

{% block title %}
    Pressure Superheated & Critical Steam
{% endblock %}

{% block main %}
    <h1>Supercritical Pressure Interpolater</h1>
    <p>
       Calculate a thermodynamic property that is found in the Superheated and Supercritical tables for a given Pressure and Temperature.
       If the Pressure and the thermodynamic property is not found within the tables but lies in a valid Temperature and Pressure range,
       i.e the Pressure range seen in the tables, linear interpolation is used to calculate the thermodynamic property.
    </p>
    <p>
       Note that only Temperature values seen in the Superheated and Supercritical tables will work.
       Use the Temperature Interpolater to find the thermodynamic property at a Temperature that is between the ones in the table first.
       Then use this calculator to find the Pressure at that thermodynamic property. 
    </p>


    <!--Is hardcoding the options good practice or use for loop, array like in Froshims example?-->
    <form action="/heatedtwosc" method="POST">
        <label for="calcType">Calculate:</label>
        <select id="calcType" name="calcType">
            <option enabled selected>Property</option>
            <option value="specific_volume">Specific Volume</option>
            <option value="specific_enthalpy">Specific Enthalpy</option>
            <option value="specific_entropy">Specific Entropy</option>
        </select>
        
        <div id="inputContainer" style="display: none; margin-top: 20px;">

            <div class="mb-3">
                <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="value" name="valuetwo" placeholder="Property" type="text">
            </div>
            <!--
            <div class="mb-3">
                <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="pressure" name="pressure" placeholder="Pressure (Bar)" type="text">
            </div>
            -->
            <div class="mb-3">
                <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="temperature" name="temperature" placeholder="Temperature (Â°C)" type="text">
            </div>

            <button class="btn btn-primary" type="submit">Calculate</button>

        </div>
    </form>

    <script>
        const calcTypeSelect = document.getElementById('calcType');
        const inputContainer = document.getElementById('inputContainer');
        const thirdInput = document.getElementById('value');  // Change this ID to match the ID of the third input field

        calcTypeSelect.addEventListener('change', function() {
            const selectedOption = calcTypeSelect.value;

            if (selectedOption === 'specific_volume' || selectedOption === 'internal_energy' || selectedOption === 'specific_enthalpy' || selectedOption === 'specific_entropy') {
                inputContainer.style.display = 'block';
                
                // Change the id, name, and placeholder for the third input based on the selected property
                switch (selectedOption) {
                    case 'specific_volume':
                        thirdInput.id = 'specificVolume';  // Change the ID
                        thirdInput.name = 'specificVolume';  // Change the name
                        thirdInput.placeholder = 'Specific Volume';
                        break;
                    case 'specific_enthalpy':
                        thirdInput.id = 'specificEnthalpy';  // Change the ID
                        thirdInput.name = 'specificEnthalpy';  // Change the name
                        thirdInput.placeholder = 'Specific Enthalpy';
                        break;
                    case 'specific_entropy':
                        thirdInput.id = 'specificEntropy';  // Change the ID
                        thirdInput.name = 'specificEntropy';  // Change the name
                        thirdInput.placeholder = 'Specific Entropy';
                        break;
                    default:
                        thirdInput.id = 'value';  // Change the ID back to the default
                        thirdInput.name = 'valuetwo';  // Change the name back to the default
                        thirdInput.placeholder = 'Property';
                }
            } else {
                inputContainer.style.display = 'none';
            }
        });
    </script>


{% endblock %}